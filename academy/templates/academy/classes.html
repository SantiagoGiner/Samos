{% extends 'academy/layout.html' %}
{% load static %}

{% block title %} My Classes {% endblock %}

{% block head %}
    <style>
        p {
            color: #000000;
        }
        div > img {
            height: 45%;
            width: 100%;
            margin-bottom: 10px;
        }
    </style>
{% endblock %}

{% block body %}
    <h1>{{ user.first_name }}'s Classes</h1>
    <hr>
    {% if not subjects and not exams %}
        <h4 class="text-center my-5">
            Looks like you haven't enrolled in any classes. <a href="{% url 'academy:enroll' %}">Enroll now!</a>
        </h4>
    {% else %}
        <div class="card-columns">
            {% if subjects %}
                {% for subject in subjects %}
                    <div class="card w-75 mx-3 my-3 p-3">
                        <div class="card-body">
                            {% if subject.subject == 'ph' %}
                                <img class="card-img-top" src="{% static 'academy/physics.jpg' %}" alt="Physics board">
                            {% elif subject.subject == 'mt' %}
                                <img class="card-img-top" src="{% static 'academy/mathematics.jpg' %}" alt="Math board">
                            {% elif subject.subject == 'ch' %}
                                <img class="card-img-top" src="{% static 'academy/chemistry.jpg' %}" alt="Chemistry board">
                            {% elif subject.subject == 'bi' %}
                                <img class="card-img-top" src="{% static 'academy/biology.jpg' %}" alt="Bioloogy board">
                            {% elif subject.subject == 'cs' %}
                                <img class="card-img-top" src="{% static 'academy/programming.jpg' %}" alt="Programming">
                            {% endif %}
                            <h5 class="card-title">{{ subject }}</h5>
                            <h6 class="card-subtitle mb-2 text-muted">Enrolled: {{ subject.date }}</h6>
                            <p>Classes viewed: {{ subject.viewed }}</p>
                            <a class="btn btn-primary" href="{% url 'academy:view_class' 'Subject' subject.pk %}">View class</a>
                        </div>
                    </div>
                {% endfor %}
            {% endif %}
            {% if exams %}
                {% for exam in exams %}
                    <div class="card w-75 mx-3 my-3">
                        <div class="card-body">
                            <img src="{% static 'academy/tests.jpg' %}" alt="Wonders of Physics">
                            <h5 class="card-title" style="color: #000000;">{{ exam }}</h5>
                            <h6 class="card-subtitle mb-2 text-muted">Enrolled: {{ exam.date }}</h6>
                            <p>Test date: {{ exam.test_date }}</p>
                            <p>Classes viewed: {{ exam.viewed }}</p>
                            <a class="btn btn-primary" href="{% url 'academy:view_class' 'Exam' exam.pk %}">View class</a>
                        </div>
                    </div>
                {% endfor %}
            {% endif %}
        </div>
        <a class="btn btn-success my-5" href="{% url 'academy:enroll' %}">Enroll in other classes</a>
    {% endif %}
{% endblock %}
